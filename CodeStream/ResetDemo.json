{"model": {"name": "ResetDemo", "tags": {"tag": []}, "modelVersion": "2.2", "concurrentExecutionsSupported": true, "pipelineParams": {"property": [{"additional": false, "type": "STRING", "name": "DESTROY_CONTAINER", "value": "True", "description": ""}, {"additional": false, "type": "STRING", "name": "CONTAINER_HOST", "value": "192.168.100.226", "description": ""}, {"additional": false, "type": "STRING", "name": "BUILD_NUMBER", "value": "11", "description": ""}, {"additional": false, "type": "STRING", "name": "BUILD_NAME", "value": "cs-demo", "description": ""}]}, "version": 1, "stages": {"stage": [{"index": 0, "tasks": {"task": [{"index": 0, "conditionalExpression": "", "name": "GetArtifact", "plugin": {"category": "ALL", "provider": "vrcs.am:resolve"}, "outputProperties": {"property": [{"additional": false, "type": "JSON[]", "name": "ARTIFACT_OUTPUT", "value": "true", "description": "ARTIFACT_OUTPUT"}, {"additional": false, "type": "JSON[]", "name": "artifacts", "value": "true", "description": "artifacts"}]}, "continueOnFailure": false, "dependsOn": [], "inputProperties": {"property": [{"additional": false, "type": "vrcs.am:ArtifactoryServer", "name": "artifactoryServer", "value": "${racks['vrcs.am:ArtifactoryServer@Artifact226']}", "description": "artifactoryServer"}, {"additional": false, "type": "JSON[]", "name": "artifactSpecs", "value": "[{\"repository\":\"vrcs-demo\",\"searchType\":\"gavc\",\"name\":\"artifact\",\"inputParameters\":{\"groupID\":\"com.vmware.demo\",\"artifactID\":\"${pipeline.BUILD_NAME}\",\"version\":\"${pipeline.BUILD_NUMBER}\",\"classifier\":\"\"}}]", "description": "artifactSpecs"}]}}, {"index": 7, "conditionalExpression": "", "name": "Gating Rule", "plugin": {"category": "GATING_RULE", "provider": "vrcs.gatingrule:ui"}, "outputProperties": {"property": []}, "continueOnFailure": false, "dependsOn": ["GetArtifact"], "inputProperties": {"property": []}}]}, "name": "Dev"}, {"index": 1, "tasks": {"task": [{"index": 0, "conditionalExpression": "", "name": "Deploy QA", "plugin": {"category": "ALL", "provider": "vrcs.script:script"}, "outputProperties": {"property": [{"additional": false, "type": "String[]", "name": "hostList", "value": "true", "description": "hostList"}, {"additional": false, "type": "JSON[]", "name": "outputConfig", "value": "true", "description": "outputConfig"}, {"additional": false, "type": "JSON[]", "name": "hostResponse", "value": "true", "description": "hostResponse"}]}, "continueOnFailure": false, "dependsOn": [], "inputProperties": {"property": [{"additional": false, "type": "String", "name": "scriptContent", "value": "", "description": "scriptContent"}, {"additional": false, "type": "JSON", "name": "inputConfig", "value": "{\"inputProperties\":[{\"name\":\"Build_ID\",\"value\":\"${pipeline.BUILD_NUMBER}\"}]}", "description": "inputConfig"}, {"additional": false, "type": "SecureString", "name": "password", "value": "", "description": "password"}, {"additional": false, "type": "String", "name": "scriptArguments", "value": "", "description": "scriptArguments"}, {"additional": false, "type": "String", "name": "workingDirectory", "value": "", "description": "workingDirectory"}, {"additional": false, "type": "String", "name": "scriptType", "value": "Bash", "description": "scriptType"}, {"additional": false, "type": "Boolean", "name": "isUserDefinedScript", "value": "false", "description": "isUserDefinedScript"}, {"additional": false, "type": "String", "name": "scriptName", "value": "/root/artifactory-install.sh", "description": "scriptName"}, {"additional": false, "type": "JSON", "name": "hostConfig", "value": "{\"hostGroup\":\"userDefinedHost\",\"hosts\":[\"web-qa.corp.local\"],\"isUserDefinedHosts\":true}", "description": "hostConfig"}, {"additional": false, "type": "String", "name": "transportType", "value": "HTTPS", "description": "transportType"}, {"additional": false, "type": "String", "name": "userName", "value": "root", "description": "userName"}, {"additional": false, "type": "JSON", "name": "artifactConfig", "value": "{\"artifactsSource\":\"${Dev.GetArtifact.ARTIFACT_OUTPUT}\",\"artifacts\":[{\"logicalName\":\"TargzFile\",\"name\":\"Artifact\",\"property\":\"Download URL\"}]}", "description": "artifactConfig"}]}}, {"index": 2, "conditionalExpression": "", "name": "Gating Rule", "plugin": {"category": "GATING_RULE", "provider": "vrcs.gatingrule:ui"}, "outputProperties": {"property": []}, "continueOnFailure": false, "dependsOn": ["Deploy QA"], "inputProperties": {"property": []}}]}, "name": "QA"}, {"index": 2, "tasks": {"task": [{"index": 0, "conditionalExpression": "", "name": "Deploy Prod", "plugin": {"category": "ALL", "provider": "vrcs.script:script"}, "outputProperties": {"property": [{"additional": false, "type": "String[]", "name": "hostList", "value": "true", "description": "hostList"}, {"additional": false, "type": "JSON[]", "name": "outputConfig", "value": "true", "description": "outputConfig"}, {"additional": false, "type": "JSON[]", "name": "hostResponse", "value": "true", "description": "hostResponse"}]}, "continueOnFailure": false, "dependsOn": [], "inputProperties": {"property": [{"additional": false, "type": "String", "name": "scriptContent", "value": "", "description": "scriptContent"}, {"additional": false, "type": "JSON", "name": "inputConfig", "value": "{\"inputProperties\":[{\"name\":\"Build_ID\",\"value\":\"${pipeline.BUILD_NUMBER}\"}]}", "description": "inputConfig"}, {"additional": false, "type": "SecureString", "name": "password", "value": "", "description": "password"}, {"additional": false, "type": "String", "name": "scriptArguments", "value": "", "description": "scriptArguments"}, {"additional": false, "type": "String", "name": "workingDirectory", "value": "", "description": "workingDirectory"}, {"additional": false, "type": "String", "name": "scriptType", "value": "Bash", "description": "scriptType"}, {"additional": false, "type": "Boolean", "name": "isUserDefinedScript", "value": "false", "description": "isUserDefinedScript"}, {"additional": false, "type": "String", "name": "scriptName", "value": "/root/artifactory-install.sh", "description": "scriptName"}, {"additional": false, "type": "JSON", "name": "hostConfig", "value": "{\"hostGroup\":\"userDefinedHost\",\"hosts\":[\"web-prod.corp.local\"],\"isUserDefinedHosts\":true}", "description": "hostConfig"}, {"additional": false, "type": "String", "name": "transportType", "value": "HTTPS", "description": "transportType"}, {"additional": false, "type": "String", "name": "userName", "value": "root", "description": "userName"}, {"additional": false, "type": "JSON", "name": "artifactConfig", "value": "{\"artifactsSource\":\"${Dev.GetArtifact.ARTIFACT_OUTPUT}\",\"artifacts\":[{\"logicalName\":\"TargzFile\",\"name\":\"Artifact\",\"property\":\"Download URL\"}]}", "description": "artifactConfig"}]}}]}, "name": "Prod"}]}, "notificationList": "", "users": []}, "metadata": {"pluginInstances": {"instance": []}}}
